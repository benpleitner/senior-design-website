<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Senior Design</title>
    <meta name="viewport" content="width=device-width">
    <script src="scripts/jquery.min.js"></script>
    <script src="scripts/bootstrap.min.js"></script>
    <link rel="stylesheet" href="styles/bootstrap.min.css">
    <link rel="stylesheet" href="styles/font-awesome.min.css">
    <link rel="stylesheet" href="styles/navbar.css">
    <link rel="shortcut icon" href="../images/taPic.png">
    <link rel="stylesheet" href="styles/seniordesign.css">
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="scripts/plot.js"></script>

    <style>
      .node {
        stroke: #fff;
        stroke-width: 0.1px;
      }
      .node .selected {
        stroke: black;
        stroke-width: 6px;
      }
      .link {
        stroke: #999;
        stroke-width: 2px;
      }
      .link-blue {
        stroke: #0039A6;
        stroke-width: 4px;
      }
      .link-red {
        stroke: #EE352E;
        stroke-width: 4px;
      }
      .link-green {
        stroke: #00933C;
        stroke-width: 4px;
      }
      .link-orange {
        stroke: #FF6319;
        stroke-width: 4px;
      }
      .link-yellow {
        stroke: #FCCC0A;
        stroke-width: 4px;
      }
      .link-brown {
        stroke: #996633;
        stroke-width: 4px;
      }
      .link-walk {
        stroke: #A7A9AC;
        stroke-width: 4px;
      }
      .link-maintain {
        stroke: black;
        stroke-width: 4px;
      }
      .link-selected {
        stroke: #95001a;
        stroke-width: 4px;
      }
      .track-selected {
        stroke: black;
        stroke-width: 4px;
      }
      .brush .extent {
        fill-opacity: .1;
        stroke: #fff;
        shape-rendering: crispEdges;
      }
      #d3_selectable_force_directed_graph:focus {
        outline: 0;
      }
      .svgToBorder {
        border: 1px solid #95001a;
        border-radius: 4px;
      }
      text {
        font-weight: 300;
      }
    </style>

  </head>
  <body>
    <nav class="navbar navbar-default navbar-myPage navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="seniordesign.html">(MT)A-Team</a>
        </div>
        <div class="collapse navbar-collapse" id="navbar">

          <ul class="nav navbar-nav navbar-right">
            <li><a href="seniordesign.html">MTA Employee</a></li>
            <li><a href="newyork.html">Subway Rider</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <header id="page-top">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <p>To generate a maintenance set that contains a specific piece of track between two stations, click on the first station then SHIFT+click on the adjacent station. Then press “Generate Maintenance Sets.” The resulting tracks will be highlighted in black.</p>
          </div>
        </div>
      </div>
    </header>

    <div class="container">
      <div id="overlay">
        <div class="popup">
          <span class="close">&times;</span>
          <div id="pop-up-content">
            Text.
          </div>
        </div>
      </div>
      <div align='center' id="d3_selectable_force_directed_graph"></div>

      <p id="values"></p>

      <div class="row dropdowns">
        <div class="col-sm-6">
          <span class="choose">Choose C-Value</span>
          <div class="dropdown">
            <div class="select">
              <span>Select C-Value</span>
              <i class="fa fa-chevron-left"></i>
            </div>
            <input type="hidden" name="c-val">
            <ul class="dropdown-menu">
              <li id="1.25">1.25</li>
              <li id="1.5">1.5</li>
              <li id="1.25">1.75</li>
            </ul>
          </div>
        </div>

        <div class="col-sm-6">
          <span class="choose">Choose D-Value</span>
          <div class="dropdown">
            <div class="select">
              <span>Select D-Value</span>
              <i class="fa fa-chevron-left"></i>
            </div>
            <input type="hidden" name="d-val">
            <ul class="dropdown-menu">
              <li id="5">5</li>
              <li id="10">10</li>
              <li id="15">15</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="row center" id="stackButton button0">
        <a class="btn-geckoboard btn-outline btn-lg href" id="button0" onclick="runAlgorithm()">Generate Maintenance Set</a>
      </div>

      <p id="message"></p>

      <div class="row center" id="stackButton button1">
        <a class="btn-geckoboard btn-outline btn-lg href" id="button1" onclick="writeCookie()">Maintain Tracks</a>
      </div>
    </div>

    <footer>
      <p id="names">Julie Engel | Sarah Organ | Isa Jimenez | Ben Leitner</p>
    </footer>

    <script>selectableForceDirectedGraph();</script>
    <script>
      $(".close").on("click", function() {
        document.getElementById("overlay").style.visibility = "hidden";
        document.getElementById("overlay").style.opacity = "0";
      });

      $('.dropdown').click(function () {
        $(this).attr('tabindex', 1).focus();
        $(this).toggleClass('active');
        $(this).find('.dropdown-menu').slideToggle(300);
      });
      $('.dropdown').focusout(function () {
        $(this).removeClass('active');
        $(this).find('.dropdown-menu').slideUp(300);
      });
      $('.dropdown .dropdown-menu li').click(function () {
        $(this).parents('.dropdown').find('span').text($(this).text());
        $(this).parents('.dropdown').find('input').attr('value', $(this).attr('id'));
      });

      $('.dropdown-menu li').click(function () {
        var input = '<strong>' + $(this).parents('.dropdown').find('input').val() + '</strong>',
            msg = '<span class="msg">Hidden input value: ';
        $('.msg').html(msg + input + '</span>');
      });
    </script>
  </body>
</html>